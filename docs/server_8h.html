<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SATP: Symmetric Authenticated Tunneling Protocol: C:/Users/stepp/Documents/Visual Studio 2022/Projects/C/SATP/SATP/server.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="satp_extra_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SATP: Symmetric Authenticated Tunneling Protocol<span id="projectnumber">&#160;1.0.0.0a (A1)</span>
   </div>
   <div id="projectbrief">A quantum secure symmetric pre-shared key tunneling protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('server_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">server.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>SATP Server functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="satp_8h_source.html">satp.h</a>&quot;</code><br />
<code>#include &quot;../../QSC/QSC/rcs.h&quot;</code><br />
<code>#include &quot;../../QSC/QSC/socketserver.h&quot;</code><br />
</div>
<p><a href="server_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a19c4f705dc0f5391c818e2adbdf38d19" id="r_a19c4f705dc0f5391c818e2adbdf38d19"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19c4f705dc0f5391c818e2adbdf38d19">SATP_SERVER_PAUSE_INTERVAL</a>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:a19c4f705dc0f5391c818e2adbdf38d19"><td class="mdescLeft">&#160;</td><td class="mdescRight">The pause interval used by the server pause function.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aac3be884b20e6536287356259d07f064" id="r_aac3be884b20e6536287356259d07f064"><td class="memItemLeft" align="right" valign="top">SATP_EXPORT_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac3be884b20e6536287356259d07f064">satp_server_broadcast</a> (const uint8_t *message, size_t msglen)</td></tr>
<tr class="memdesc:aac3be884b20e6536287356259d07f064"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast a message to all connected hosts.  <br /></td></tr>
<tr class="memitem:af7eac8357b12e2c10ff715f25fedcdb8" id="r_af7eac8357b12e2c10ff715f25fedcdb8"><td class="memItemLeft" align="right" valign="top">SATP_EXPORT_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7eac8357b12e2c10ff715f25fedcdb8">satp_server_passphrase_generate</a> (char *passphrase, size_t length)</td></tr>
<tr class="memdesc:af7eac8357b12e2c10ff715f25fedcdb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a readable pseudo-random passphrase.  <br /></td></tr>
<tr class="memitem:a7f5f50e9690c0b1ecda58df73571a945" id="r_a7f5f50e9690c0b1ecda58df73571a945"><td class="memItemLeft" align="right" valign="top">SATP_EXPORT_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f5f50e9690c0b1ecda58df73571a945">satp_server_passphrase_hash_generate</a> (uint8_t *phash, char *passphrase, size_t passlen)</td></tr>
<tr class="memdesc:a7f5f50e9690c0b1ecda58df73571a945"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the passphrase hash.  <br /></td></tr>
<tr class="memitem:a31e9c52ba066db270efac8124b594326" id="r_a31e9c52ba066db270efac8124b594326"><td class="memItemLeft" align="right" valign="top">SATP_EXPORT_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a31e9c52ba066db270efac8124b594326">satp_server_passphrase_hash_verify</a> (const uint8_t *phash, char *passphrase, size_t passlen)</td></tr>
<tr class="memdesc:a31e9c52ba066db270efac8124b594326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify a passphrase against the hash.  <br /></td></tr>
<tr class="memitem:a5a7afabe273556acc91e882e477e0717" id="r_a5a7afabe273556acc91e882e477e0717"><td class="memItemLeft" align="right" valign="top">SATP_EXPORT_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5a7afabe273556acc91e882e477e0717">satp_server_pause</a> (void)</td></tr>
<tr class="memdesc:a5a7afabe273556acc91e882e477e0717"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause the server.  <br /></td></tr>
<tr class="memitem:a7acff025eda4a49b7d8352e1a21a491f" id="r_a7acff025eda4a49b7d8352e1a21a491f"><td class="memItemLeft" align="right" valign="top">SATP_EXPORT_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7acff025eda4a49b7d8352e1a21a491f">satp_server_quit</a> (void)</td></tr>
<tr class="memdesc:a7acff025eda4a49b7d8352e1a21a491f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quit the server.  <br /></td></tr>
<tr class="memitem:a44e32c8ed1968f069113d01793e9a3c9" id="r_a44e32c8ed1968f069113d01793e9a3c9"><td class="memItemLeft" align="right" valign="top">SATP_EXPORT_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44e32c8ed1968f069113d01793e9a3c9">satp_server_resume</a> (void)</td></tr>
<tr class="memdesc:a44e32c8ed1968f069113d01793e9a3c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resume the server listener.  <br /></td></tr>
<tr class="memitem:a97dc2aa81fab68cbd0101771bb1f74dc" id="r_a97dc2aa81fab68cbd0101771bb1f74dc"><td class="memItemLeft" align="right" valign="top">SATP_EXPORT_API <a class="el" href="satp_8h.html#ad018e7d955cb389223bcc7e5d8a38c5a">satp_errors</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97dc2aa81fab68cbd0101771bb1f74dc">satp_server_start_ipv4</a> (const <a class="el" href="structsatp__server__key.html">satp_server_key</a> *skey, void(*receive_callback)(<a class="el" href="structsatp__connection__state.html">satp_connection_state</a> *, const uint8_t *, size_t), void(*disconnect_callback)(<a class="el" href="structsatp__connection__state.html">satp_connection_state</a> *), bool(*authentication_callback)(<a class="el" href="structsatp__connection__state.html">satp_connection_state</a> *, const uint8_t *, size_t))</td></tr>
<tr class="memdesc:a97dc2aa81fab68cbd0101771bb1f74dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the IPv4 multi-threaded server.  <br /></td></tr>
<tr class="memitem:a48dc8c5a67ef23fa58d053d38432df71" id="r_a48dc8c5a67ef23fa58d053d38432df71"><td class="memItemLeft" align="right" valign="top">SATP_EXPORT_API <a class="el" href="satp_8h.html#ad018e7d955cb389223bcc7e5d8a38c5a">satp_errors</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48dc8c5a67ef23fa58d053d38432df71">satp_server_start_ipv6</a> (const <a class="el" href="structsatp__server__key.html">satp_server_key</a> *skey, void(*receive_callback)(<a class="el" href="structsatp__connection__state.html">satp_connection_state</a> *, const uint8_t *, size_t), void(*disconnect_callback)(<a class="el" href="structsatp__connection__state.html">satp_connection_state</a> *), bool(*authentication_callback)(<a class="el" href="structsatp__connection__state.html">satp_connection_state</a> *, const uint8_t *, size_t))</td></tr>
<tr class="memdesc:a48dc8c5a67ef23fa58d053d38432df71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the IPv6 multi-threaded server.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>SATP Server functions. </p>
<p>This header declares the functions used to implement the server component of the Symmetric Authenticated Tunneling Protocol (SATP). The server functions manage client connections, broadcast messages, and control the server lifecycle through operations such as pausing, resuming, and quitting. SATP employs a multi-threaded server design that supports both IPv4 and IPv6 connections.</p>
<p>The functions provided in this header include:</p><ul>
<li>Broadcasting a message to all connected hosts.</li>
<li>Pausing the server to suspend acceptance of new connections.</li>
<li>Quitting the server by closing all active connections.</li>
<li>Resuming the server listener from a paused state.</li>
<li>Starting the multi-threaded server on IPv4 and IPv6 interfaces with support for callback functions to process incoming data and handle disconnect events.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>SATP_EXPORT_API is used to ensure proper symbol visibility. </dd></dl>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a19c4f705dc0f5391c818e2adbdf38d19" name="a19c4f705dc0f5391c818e2adbdf38d19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19c4f705dc0f5391c818e2adbdf38d19">&#9670;&#160;</a></span>SATP_SERVER_PAUSE_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SATP_SERVER_PAUSE_INTERVAL&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The pause interval used by the server pause function. </p>
<p>This macro defines the time interval (in milliseconds) that the server will pause before resuming operations or processing new connection requests. </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="aac3be884b20e6536287356259d07f064" name="aac3be884b20e6536287356259d07f064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac3be884b20e6536287356259d07f064">&#9670;&#160;</a></span>satp_server_broadcast()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SATP_EXPORT_API void satp_server_broadcast </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>message</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>msglen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Broadcast a message to all connected hosts. </p>
<p>This function iterates over all active connections managed by the server and transmits the specified message to each connected host. It is useful for disseminating announcements or control messages across the network.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>[const] A pointer to the message data to be broadcast. </td></tr>
    <tr><td class="paramname">msglen</td><td>The length (in bytes) of the message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af7eac8357b12e2c10ff715f25fedcdb8" name="af7eac8357b12e2c10ff715f25fedcdb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7eac8357b12e2c10ff715f25fedcdb8">&#9670;&#160;</a></span>satp_server_passphrase_generate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SATP_EXPORT_API void satp_server_passphrase_generate </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>passphrase</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a readable pseudo-random passphrase. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">passphrase</td><td>A pointer to the passphrase array. </td></tr>
    <tr><td class="paramname">length</td><td>The passphrase length. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7f5f50e9690c0b1ecda58df73571a945" name="a7f5f50e9690c0b1ecda58df73571a945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f5f50e9690c0b1ecda58df73571a945">&#9670;&#160;</a></span>satp_server_passphrase_hash_generate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SATP_EXPORT_API void satp_server_passphrase_hash_generate </td>
          <td>(</td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>phash</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>passphrase</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>passlen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate the passphrase hash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phash</td><td>A pointer to the passphrase hash. </td></tr>
    <tr><td class="paramname">passphrase</td><td>[const] A pointer to the passphrase. </td></tr>
    <tr><td class="paramname">passlen</td><td>The passphrase length. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a31e9c52ba066db270efac8124b594326" name="a31e9c52ba066db270efac8124b594326"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31e9c52ba066db270efac8124b594326">&#9670;&#160;</a></span>satp_server_passphrase_hash_verify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SATP_EXPORT_API bool satp_server_passphrase_hash_verify </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>phash</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>passphrase</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>passlen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify a passphrase against the hash. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phash</td><td>[const] A pointer to the passphrase hash. </td></tr>
    <tr><td class="paramname">passphrase</td><td>[const] A pointer to the passphrase. </td></tr>
    <tr><td class="paramname">passlen</td><td>The passphrase length.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the passphrase hash matches. </dd></dl>

</div>
</div>
<a id="a5a7afabe273556acc91e882e477e0717" name="a5a7afabe273556acc91e882e477e0717"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a7afabe273556acc91e882e477e0717">&#9670;&#160;</a></span>satp_server_pause()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SATP_EXPORT_API void satp_server_pause </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pause the server. </p>
<p>This function temporarily suspends the acceptance of new client connections. While paused, the server continues to service existing connections but does not allow any new joins until it is resumed. </p>

</div>
</div>
<a id="a7acff025eda4a49b7d8352e1a21a491f" name="a7acff025eda4a49b7d8352e1a21a491f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7acff025eda4a49b7d8352e1a21a491f">&#9670;&#160;</a></span>satp_server_quit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SATP_EXPORT_API void satp_server_quit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Quit the server. </p>
<p>This function gracefully shuts down the server by closing all active client connections and terminating the server's listener. It is used to perform a complete shutdown of the server operations. </p>

</div>
</div>
<a id="a44e32c8ed1968f069113d01793e9a3c9" name="a44e32c8ed1968f069113d01793e9a3c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44e32c8ed1968f069113d01793e9a3c9">&#9670;&#160;</a></span>satp_server_resume()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SATP_EXPORT_API void satp_server_resume </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resume the server listener. </p>
<p>This function resumes the server's listener functionality after it has been paused. Once resumed, the server will once again accept new incoming client connections. </p>

</div>
</div>
<a id="a97dc2aa81fab68cbd0101771bb1f74dc" name="a97dc2aa81fab68cbd0101771bb1f74dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97dc2aa81fab68cbd0101771bb1f74dc">&#9670;&#160;</a></span>satp_server_start_ipv4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SATP_EXPORT_API <a class="el" href="satp_8h.html#ad018e7d955cb389223bcc7e5d8a38c5a">satp_errors</a> satp_server_start_ipv4 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsatp__server__key.html">satp_server_key</a> *</td>          <td class="paramname"><span class="paramname"><em>skey</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*</td>          <td class="paramname"><span class="paramname"><em>receive_callback&#160;</em></span>)(<a class="el" href="structsatp__connection__state.html">satp_connection_state</a> *, const uint8_t *, size_t), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*</td>          <td class="paramname"><span class="paramname"><em>disconnect_callback&#160;</em></span>)(<a class="el" href="structsatp__connection__state.html">satp_connection_state</a> *), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool(*</td>          <td class="paramname"><span class="paramname"><em>authentication_callback&#160;</em></span>)(<a class="el" href="structsatp__connection__state.html">satp_connection_state</a> *, const uint8_t *, size_t)&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the IPv4 multi-threaded server. </p>
<p>This function initializes and starts the SATP server for IPv4 connections using a multi-threaded architecture. It listens on the provided socket and uses the specified SATP private key for secure key exchange and authentication. Two callback functions are provided:</p><ul>
<li>A receive callback to process incoming client data streams.</li>
<li>A disconnect callback to handle cleanup and resource deallocation when a client disconnects.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">skey</td><td>[const] A pointer to the SATP server private signature key used for key exchange. </td></tr>
    <tr><td class="paramname">receive_callback</td><td>A pointer to the function that processes incoming client data. </td></tr>
    <tr><td class="paramname">disconnect_callback</td><td>A pointer to the function that handles client disconnect events. </td></tr>
    <tr><td class="paramname">authentication_callback</td><td>A pointer to the function that handles client authentication events.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a SATP error code indicating the success or failure of starting the IPv4 server. </dd></dl>

</div>
</div>
<a id="a48dc8c5a67ef23fa58d053d38432df71" name="a48dc8c5a67ef23fa58d053d38432df71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48dc8c5a67ef23fa58d053d38432df71">&#9670;&#160;</a></span>satp_server_start_ipv6()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SATP_EXPORT_API <a class="el" href="satp_8h.html#ad018e7d955cb389223bcc7e5d8a38c5a">satp_errors</a> satp_server_start_ipv6 </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsatp__server__key.html">satp_server_key</a> *</td>          <td class="paramname"><span class="paramname"><em>skey</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*</td>          <td class="paramname"><span class="paramname"><em>receive_callback&#160;</em></span>)(<a class="el" href="structsatp__connection__state.html">satp_connection_state</a> *, const uint8_t *, size_t), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*</td>          <td class="paramname"><span class="paramname"><em>disconnect_callback&#160;</em></span>)(<a class="el" href="structsatp__connection__state.html">satp_connection_state</a> *), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool(*</td>          <td class="paramname"><span class="paramname"><em>authentication_callback&#160;</em></span>)(<a class="el" href="structsatp__connection__state.html">satp_connection_state</a> *, const uint8_t *, size_t)&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the IPv6 multi-threaded server. </p>
<p>This function initializes and starts the SATP server for IPv6 connections using a multi-threaded design. It listens on the provided IPv6 socket and employs the specified SATP private key for secure communications. The server uses two callback functions to process incoming client data and handle disconnect events.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kset</td><td>[const] A pointer to the SATP server private signature key used for key exchange and authentication. </td></tr>
    <tr><td class="paramname">receive_callback</td><td>A pointer to the function that processes incoming client data. </td></tr>
    <tr><td class="paramname">disconnect_callback</td><td>A pointer to the function that handles client disconnect events. </td></tr>
    <tr><td class="paramname">authentication_callback</td><td>A pointer to the function that handles client authentication events.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a SATP error code indicating the outcome of starting the IPv6 server. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_e669f2dbe370c85fafb6565895d91f2e.html">SATP</a></li><li class="navelem"><a href="server_8h.html">server.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
